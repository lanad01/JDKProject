<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="rep">
<select id="getMaxRepno" resultType="Integer">
	select max(repno) from reply_info
</select>
<select id="getMaxRepGroupNo" resultType="Integer" parameterType="Integer">
	select max(repgroupno) from reply_info where repno=#{repno} <!--  같은 repno를 가진 댓글 레코드의 repgroupno 최대치를 얻어온다  -->
</select>
<insert id="putRep" parameterType="model.Reply">
	insert into reply_info values(#{repno},#{repgroupno},#{seqno},#{user_no},#{register_date},#{content})
</insert>
<select id="getRepList"  resultType="model.Reply" parameterType="Integer">
	select r.* from reply_info r, bbs_info b 
	where b.seqno=#{seqno} <!--  입력된 seqno와 일치하는 seqno를 가진 bbs_info가 가진 모드 reply를 뽑아낸다  -->
</select>
</mapper>


